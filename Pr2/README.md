# Исследование объявлений о продаже квартир

В распоряжении данные сервиса Яндекс.Недвижимость — архив объявлений о продаже квартир в Санкт-Петербурге и соседних населённых пунктов за несколько лет. Нужно научиться определять рыночную стоимость объектов недвижимости. Задача — установить параметры. Это позволит построить автоматизированную систему: она отследит аномалии и мошенническую деятельность.

По каждой квартире на продажу доступны два вида данных. Первые вписаны пользователем, вторые — получены автоматически на основе картографических данных. Например, расстояние до центра, аэропорта, ближайшего парка и водоёма.

**1. Обзор данных.**

В каждой строке таблицы - данные о проданных квартирах. Часть колонок описывает хакактеристики самой квартиры: общая площадь квартиры в квадратных метрах, число балконов, высота потолков, площадь кухни в квадратных метрах, жилая площадь в квадратных метрах, свободная планировка, число комнат, квартира-студия, квартира-апартаменты. 

Другая часть рассказывают о ее расположении: название населённого пункта, этаж, кол-во этажей в доме, расстояние до ближайшего аэропорта в метрах, расстояние до центра города, число парков в радиусе 3 км, расстояние до ближайшего парка, число водоёмов в радиусе 3 км, расстояние до ближайшего водоёма. 

Остальные данные - характеристики объявления: дата публикации, сколько дней было размещено обьявление (от публикации до снятия), число фотографий квартиры в объявлении.

**2. Предобработка данных.**

Были обнаружены следующие проблемы в данных:

 - пропущенные значения в колонках:
   - `'ceiling_height'` - 39% от общего кол-ва данных;
   - `'floors_total'` - 0.4% от общего кол-ва данных;
   - `'living_area'` - 8% от общего кол-ва данных; 
   - `'is_apartment'` - 88% от общего кол-ва данных;
   - `'kitchen_area'` - 10% от общего кол-ва данных;
   - `'balcony'` - 49% от общего кол-ва данных;
   - `'locality_name'` - 0.2% от общего кол-ва данных;
   - `'airports_nearest'` - 23% от общего кол-ва данных;
   - `'cityCenters_nearest'` - 23% от общего кол-ва данных;
   - `'parks_around3000'` - 23% от общего кол-ва данных;
   - `'parks_nearest'` - 66% от общего кол-ва данных;
   - `'ponds_around3000'` - 23% от общего кол-ва данных;
   - `'ponds_nearest'` - 62% от общего кол-ва данных;
   - `'days_exposition'` - 13% от общего кол-ва данных.
 - данные-аномалии: 
     - значения высоты потолка в диапозоне от 8м до 100м;
     - строки, в которых значение жилой площади было больше значения общей площади.
 - неявные дубликаты в столбце `'locality_name'`.

Так же в столбцах  `'first_day_exposition'`, `'floors_total'`, `'balcony'`, `'parks_around3000'`, `'ponds_around3000'`, `'days_exposition'` требовалось заменить типы данных.

Пропуски в столбце `'ceiling_height'` заменены медианным значением высоты потолков, в `'living_area'` и `'kitchen_area'` - медианой относительно кол-ва комнат в квартире. 

Столбец `'is_apartment'` удален из-за слишком большого кол-ва пропусков.

В столбцах `'balcony'`, `'parks_around3000'`, `'ponds_around3000'`, `'days_exposition'` и `'kitchen_area'` (в случае, когда квартира являлась студией) пропуски заменены на 0.

Строки, которые имели пропуски в столбцах `'floors_total'` и `'locality_name'`, удалены.

В группе столбцов `'cityCenters_nearest'`, `'airports_nearest'`, `'parks_nearest'` и `'ponds_nearest'` пропуски оставлены за-за отсутствия логичной замены.

В столбце `'first_day_exposition'` тип `'object'` приведен к типу `'datetime'`, в остальных столбцах, требующих замены типа данных, тип `'float'` приведен к типу `'int'`.

Неявные дубликаты в столбце `'locality_name'`, аномальные значения в `'ceiling_height'` и строки, в которых значение жилой площади было больше значения общей площади были устранены.

Так же в таблицу были добавлены новые колонки со следующими значениями: цена одного квадратного метра, день публикации объявления, месяц публикации объявления, год публикации объявления, тип этажа квартиры (значения — «первый», «последний», «другой»), расстояние в км до центра города.

**3. Исследовательский анализ данных.**

Изучены и описаны следующие параметры:
- общая площадь;
- жилая площадь;
- площадь кухни;
- цена объекта;
- количество комнат;
- высота потолков;
- этаж квартиры;
- тип этажа квартиры («первый», «последний», «другой»);
- общее количество этажей в доме;
- расстояние до центра города в метрах;
- расстояние до ближайшего аэропорта;
- расстояние до ближайшего парка;
- день и месяц публикации объявления.

Большинство квартир имеют следующие характеристики: общая площадь, равная 46, жилая площадь, равная 17, плошадь кухни - 9, цена в диапозпне от 3_500_000 до 4_500_000, 1 или 2 комнаты, высота потолков 2.65м, 2 или 3 этаж, с общим кол-вом этажей 5 или 9, с расстоянием до центра 15 км, до аэропорта 15-25 км, до ближайшего парка 450м, опубликованна в будни с февраля по апрель.

Обычно продажа квартиры занимает от 45 до 228 дней. Больше всего на стоимость квартиры влияет ее общая площадь. Так же известна зависимость цены от следующих параметров: общая площадь, жилая площадь, площадь кухни, кол-во комнат - чем выше значение этих параметров, тем больше стоимость квартиры, к тому же чем ближе квартира находится к центру, тем больше она стоит.

Населённый пункт с самой высокой стоимостью квадратного метра - Санкт-Петербург: 104_146/кв м. Средняя цена одного километра к центру в г. Санкт-Петербург равна 438_192.